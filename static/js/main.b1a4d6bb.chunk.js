(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,r){e.exports=r(258)},141:function(e,t,r){},258:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(18),c=r.n(a),l=r(51),s=r(123),u=r(112),i=r(122),d=r(39),m=r(113),p=function(e){return fetch(e).then(function(e){return e.json()})};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(){return{type:"START_LOADING"}},y=function(){return{type:"HANDLE_ERROR"}},b=function(e){return{type:"HANDLE_SUCCESS",todosWithUsers:e}},O={isLoading:!1,todosWithUsers:[],hasError:!1},g=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"HANDLE_SORT":return f({},e,{todosWithUsers:Object(s.a)(e.todosWithUsers).sort(function(e,r){switch(t.event){case"userName":return e.user.name.localeCompare(r.user.name);case"completed":return r.completed-e.completed;default:return e.title.localeCompare(r.title)}})});case"START_LOADING":return f({},e,{isLoading:!0,hasError:!1});case"HANDLE_ERROR":return f({},e,{isLoading:!1,hasError:!0});case"HANDLE_SUCCESS":return f({},e,{isLoading:!1});case"GET_DATA":return f({},e,{todosWithUsers:t.todos.map(function(e){return f({},e,{user:t.users.find(function(t){return t.id===e.userId})})})});default:return e}},Object(d.a)(m.a)),j=(r(141),r(262)),v=r(263),L=function(e){var t=e.user;return o.a.createElement("td",null,o.a.createElement("a",{href:"mailto:".concat(t.email)},t.name))},C=function(e){var t=e.todo;return o.a.createElement("tr",null,o.a.createElement("td",null,t.title),o.a.createElement(L,{user:t.user}),t.completed?o.a.createElement(v.a.Cell,{positive:!0},"Completed"):o.a.createElement(v.a.Cell,{negative:!0},"In progress"))},D=function(e){var t=e.todos,r=e.sort;return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{type:"button",onClick:r},"Sort by title"),o.a.createElement(j.a,{type:"button",onClick:function(){return r("userName")}},"Sort by name"),o.a.createElement(j.a,{type:"button",onClick:function(){return r("completed")}},"Sort by completed"),o.a.createElement(v.a,{celled:!0},o.a.createElement(v.a.Header,null,o.a.createElement(v.a.Row,null,o.a.createElement(v.a.HeaderCell,null,"Todo"),o.a.createElement(v.a.HeaderCell,null,"User email"),o.a.createElement(v.a.HeaderCell,null,"Is completed"))),o.a.createElement(v.a.Body,null,t.map(function(e){return o.a.createElement(C,{todo:e,key:e.id})}))))},w=function(e){var t=e.todosWithUsers,r=e.isLoading,n=e.hasError,a=e.sortTodos,c=e.getData;return r?o.a.createElement("p",null,"Loading..."):n?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Loading failed"),o.a.createElement(j.a,{type:"button",onClick:c},"Retry")):t.length?o.a.createElement(D,{todos:t,sort:a}):o.a.createElement(j.a,{type:"button",onClick:c},"Load")},S=Object(l.b)(function(e){return{isLoading:e.isLoading,todosWithUsers:e.todosWithUsers,hasError:e.hasError,sortedTodos:e.sortedTodos}},function(e){return{getData:function(){return e(function(e){e(h()),Promise.all([p("https://jsonplaceholder.typicode.com/todos"),p("https://jsonplaceholder.typicode.com/users")]).then(function(t){var r=Object(i.a)(t,2),n=r[0],o=r[1];e(h()),e(function(e,t){return{type:"GET_DATA",todos:e,users:t}}(n,o)),e(b())}).catch(function(){return e(y())})})},sortTodos:function(t){return e({type:"HANDLE_SORT",event:t})}}})(w);c.a.render(o.a.createElement(l.a,{store:g},o.a.createElement(S,null)),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.b1a4d6bb.chunk.js.map