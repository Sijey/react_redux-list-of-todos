(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,r){e.exports=r(262)},145:function(e,t,r){},262:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(18),c=r.n(a),l=r(52),s=r(125),i=r(50),u=r(49);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=Object(u.b)(function(e,t){switch(t.type){case"HANDLE_SORT":return d({},e,{todosWithUsers:Object(s.a)(e.todosWithUsers).sort(function(e,r){switch(t.event){case"userName":return e.user.name.localeCompare(r.user.name);case"completed":return r.completed-e.completed;default:return e.title.localeCompare(r.title)}})});case"START_LOADING":return d({},e,{isLoading:!0,hasError:!1});case"HANDLE_ERROR":return d({},e,{isLoading:!1,hasError:!0});case"HANDLE_SUCCESS":return d({},e,{todosWithUsers:t.todosWithUsers,isLoading:!1});default:return e}},{isLoading:!1,todosWithUsers:[],hasError:!1}),f=r(124),E=r(113),b=r(114),O=r(126),h=r(115),y=r(127),g=(r(145),r(266)),j=r(267),v=function(e){var t=e.user;return o.a.createElement("td",null,o.a.createElement("a",{href:"mailto:".concat(t.email)},t.name))},w=function(e){var t=e.todo;return o.a.createElement("tr",null,o.a.createElement("td",null,t.title),o.a.createElement(v,{user:t.user}),t.completed?o.a.createElement(j.a.Cell,{positive:!0},"Completed"):o.a.createElement(j.a.Cell,{negative:!0},"In progress"))},L=function(e){var t=e.todos,r=e.sort;return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{type:"button",onClick:function(){return r()}},"Sort by title"),o.a.createElement(g.a,{type:"button",onClick:function(){return r("userName")}},"Sort by name"),o.a.createElement(g.a,{type:"button",onClick:function(){return r("completed")}},"Sort by completed"),o.a.createElement(j.a,{celled:!0},o.a.createElement(j.a.Header,null,o.a.createElement(j.a.Row,null,o.a.createElement(j.a.HeaderCell,null,"Todo"),o.a.createElement(j.a.HeaderCell,null,"User email"),o.a.createElement(j.a.HeaderCell,null,"Is completed"))),o.a.createElement(j.a.Body,null,t.map(function(e){return o.a.createElement(w,{todo:e,key:e.id})}))))},D=function(e){return fetch(e).then(function(e){return e.json()})};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var C=function(e){function t(){var e,r;Object(E.a)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(O.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).getData=function(){var e=r.props,t=e.initLoad,n=e.loadSuccess,o=e.catchError;t(),Promise.all([D("https://jsonplaceholder.typicode.com/users"),D("https://jsonplaceholder.typicode.com/todos")]).then(function(e){var t=Object(f.a)(e,2),r=t[0],o=t[1].map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{user:r.find(function(t){return t.id===e.userId})})});n(o)}).catch(function(){o()})},r}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.todosWithUsers,r=e.isLoading,n=e.hasError,a=e.sortTodos;return r?o.a.createElement("p",null,"Loading..."):n?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Loading failed"),o.a.createElement(g.a,{type:"button",onClick:this.getData},"Retry")):t.length?o.a.createElement(L,{todos:t,sort:a}):o.a.createElement(g.a,{type:"button",onClick:this.getData},"Load")}}]),t}(o.a.Component),P=Object(l.b)(function(e){return{isLoading:e.isLoading,todosWithUsers:e.todosWithUsers,hasError:e.hasError,sortedTodos:e.sortedTodos}},function(e){return{initLoad:function(){return e({type:"START_LOADING"})},loadSuccess:function(t){return e(function(e){return{type:"HANDLE_SUCCESS",todosWithUsers:e}}(t))},catchError:function(){return e({type:"HANDLE_ERROR"})},sortTodos:function(t){return e({type:"HANDLE_SORT",event:t})}}})(C);c.a.render(o.a.createElement(l.a,{store:m},o.a.createElement(P,null)),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.d2369cc8.chunk.js.map